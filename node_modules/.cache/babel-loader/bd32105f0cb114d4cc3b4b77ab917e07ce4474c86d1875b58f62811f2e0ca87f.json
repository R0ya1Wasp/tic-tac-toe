{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MSI\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\tic-tac-toe\\\\src\\\\components\\\\Board.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Square from './Square';\nimport './Board.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Board = ({\n  size,\n  onWin,\n  currentPlayer,\n  onPlayerSwitch\n}) => {\n  _s();\n  const [squares, setSquares] = useState(Array(size * size).fill(null));\n  const [winner, setWinner] = useState(null);\n  useEffect(() => {\n    if (winner) {\n      setSquares(Array(size * size).fill(null));\n      setWinner(null);\n    }\n  }, [winner, size]);\n  const handleClick = (x, y) => {\n    const index = y * size + x;\n    if (squares[index] || winner) {\n      return;\n    }\n    const newSquares = squares.slice();\n    newSquares[index] = currentPlayer;\n    setSquares(newSquares);\n    const calculatedWinner = calculateWinner(newSquares, size);\n    if (calculatedWinner) {\n      setWinner(calculatedWinner);\n      onWin(calculatedWinner);\n    } else {\n      onPlayerSwitch(); // Переключение игрока\n    }\n  };\n  const renderSquare = (x, y) => {\n    const key = `${x},${y}`;\n    const index = y * size + x;\n    return /*#__PURE__*/_jsxDEV(Square, {\n      value: squares[index],\n      onClick: () => handleClick(x, y)\n    }, key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 12\n    }, this);\n  };\n  const renderBoard = () => {\n    const rows = [];\n    for (let y = 0; y < size; y++) {\n      const row = [];\n      for (let x = 0; x < size; x++) {\n        row.push(renderSquare(x, y));\n      }\n      rows.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex'\n        },\n        children: row\n      }, y, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this));\n    }\n    return rows;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"board-container\",\n    children: renderBoard()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 10\n  }, this);\n};\n_s(Board, \"oY7+okvxit/ZEwAKX47A5KMnDXc=\");\n_c = Board;\nconst calculateWinner = (squares, size) => {\n  const lines = [];\n  for (let y = 0; y < size; y++) {\n    for (let x = 0; x <= size - 5; x++) {\n      lines.push([y * size + x, y * size + x + 1, y * size + x + 2, y * size + x + 3, y * size + x + 4]);\n    }\n  }\n  for (let x = 0; x < size; x++) {\n    for (let y = 0; y <= size - 5; y++) {\n      lines.push([y * size + x, (y + 1) * size + x, (y + 2) * size + x, (y + 3) * size + x, (y + 4) * size + x]);\n    }\n  }\n  for (let y = 0; y <= size - 5; y++) {\n    for (let x = 0; x <= size - 5; x++) {\n      lines.push([y * size + x, (y + 1) * size + x + 1, (y + 2) * size + x + 2, (y + 3) * size + x + 3, (y + 4) * size + x + 4]);\n      lines.push([(y + 4) * size + x, (y + 3) * size + x + 1, (y + 2) * size + x + 2, (y + 1) * size + x + 3, y * size + x + 4]);\n    }\n  }\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c, d, e] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c] && squares[a] === squares[d] && squares[a] === squares[e]) {\n      return squares[a];\n    }\n  }\n  return null;\n};\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useState","useEffect","Square","jsxDEV","_jsxDEV","Board","size","onWin","currentPlayer","onPlayerSwitch","_s","squares","setSquares","Array","fill","winner","setWinner","handleClick","x","y","index","newSquares","slice","calculatedWinner","calculateWinner","renderSquare","key","value","onClick","fileName","_jsxFileName","lineNumber","columnNumber","renderBoard","rows","row","push","style","display","children","className","_c","lines","i","length","a","b","c","d","e","$RefreshReg$"],"sources":["C:/Users/MSI/OneDrive/Рабочий стол/tic-tac-toe/src/components/Board.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Square from './Square';\r\nimport './Board.css';\r\n\r\ninterface BoardProps {\r\n  size: number;\r\n  onWin: (winner: string) => void;\r\n  currentPlayer: string;\r\n  onPlayerSwitch: () => void;\r\n}\r\n\r\nconst Board: React.FC<BoardProps> = ({ size, onWin, currentPlayer, onPlayerSwitch }) => {\r\n  const [squares, setSquares] = useState(Array(size * size).fill(null));\r\n  const [winner, setWinner] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (winner) {\r\n      setSquares(Array(size * size).fill(null));\r\n      setWinner(null);\r\n    }\r\n  }, [winner, size]);\r\n\r\n  const handleClick = (x: number, y: number) => {\r\n    const index = y * size + x;\r\n    if (squares[index] || winner) {\r\n      return;\r\n    }\r\n    const newSquares = squares.slice();\r\n    newSquares[index] = currentPlayer;\r\n    setSquares(newSquares);\r\n\r\n    const calculatedWinner = calculateWinner(newSquares, size);\r\n    if (calculatedWinner) {\r\n      setWinner(calculatedWinner);\r\n      onWin(calculatedWinner);\r\n    } else {\r\n      onPlayerSwitch(); // Переключение игрока\r\n    }\r\n  };\r\n\r\n  const renderSquare = (x: number, y: number) => {\r\n    const key = `${x},${y}`;\r\n    const index = y * size + x;\r\n    return <Square key={key} value={squares[index]} onClick={() => handleClick(x, y)} />;\r\n  };\r\n\r\n  const renderBoard = () => {\r\n    const rows = [];\r\n    for (let y = 0; y < size; y++) {\r\n      const row = [];\r\n      for (let x = 0; x < size; x++) {\r\n        row.push(renderSquare(x, y));\r\n      }\r\n      rows.push(\r\n        <div key={y} style={{ display: 'flex' }}>\r\n          {row}\r\n        </div>\r\n      );\r\n    }\r\n    return rows;\r\n  };\r\n\r\n  return <div className=\"board-container\">{renderBoard()}</div>;\r\n};\r\n\r\nconst calculateWinner = (squares: (string | null)[], size: number): string | null => {\r\n  const lines = [];\r\n\r\n  for (let y = 0; y < size; y++) {\r\n    for (let x = 0; x <= size - 5; x++) {\r\n      lines.push([y * size + x, y * size + x + 1, y * size + x + 2, y * size + x + 3, y * size + x + 4]);\r\n    }\r\n  }\r\n\r\n  for (let x = 0; x < size; x++) {\r\n    for (let y = 0; y <= size - 5; y++) {\r\n      lines.push([y * size + x, (y + 1) * size + x, (y + 2) * size + x, (y + 3) * size + x, (y + 4) * size + x]);\r\n    }\r\n  }\r\n\r\n  for (let y = 0; y <= size - 5; y++) {\r\n    for (let x = 0; x <= size - 5; x++) {\r\n      lines.push([y * size + x, (y + 1) * size + x + 1, (y + 2) * size + x + 2, (y + 3) * size + x + 3, (y + 4) * size + x + 4]);\r\n      lines.push([(y + 4) * size + x, (y + 3) * size + x + 1, (y + 2) * size + x + 2, (y + 1) * size + x + 3, y * size + x + 4]);\r\n    }\r\n  }\r\n\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c, d, e] = lines[i];\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c] && squares[a] === squares[d] && squares[a] === squares[e]) {\r\n      return squares[a];\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default Board;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}